<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Resume Builder | Curtis Venn</title>

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- html2pdf -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
@media print {
  body { margin:0; padding:0; }
  #resumePreview {
    width:210mm !important;
    min-height:297mm !important;
    margin:0 auto !important;
    background:white;
  }
  * { page-break-inside: avoid !important; }
}

#resumePreview {
  width:100%;
  max-width:8.5in;
  min-height:11in;
  background:white;
  margin:0 auto;
}

.small-muted { font-size:.85rem; color:#6b7280; }
.pill { font-size:.75rem; padding:.25rem .5rem; border-radius:9999px; }
.form-scroll { max-height:calc(100vh - 12rem); overflow:auto; padding-right:.5rem; }
</style>
</head>

<body class="bg-gray-50 font-sans text-gray-900 flex flex-col min-h-screen">

<header class="bg-white sticky top-0 z-40 shadow">
  <div class="max-w-6xl mx-auto px-4 py-3 flex justify-between">
    <strong>Curtis Venn</strong>
    <button id="menuBtn" class="md:hidden">☰</button>
  </div>
</header>

<main class="max-w-6xl mx-auto px-4 py-6 flex-1 w-full">
<h1 class="text-2xl font-bold mb-4">Free Resume Builder — Live Preview & PDF Export</h1>

<div class="grid grid-cols-1 md:grid-cols-3 gap-6">

<!-- FORM -->
<aside class="bg-white p-4 rounded shadow form-scroll">
<label class="text-sm font-semibold">Template</label>
<select id="template" class="w-full border p-2 mb-3">
<option value="modern">Modern</option>
<option value="classic">Classic</option>
<option value="minimal">Minimal</option>
<option value="creative">Creative</option>
<option value="compact">Compact</option>
<option value="professional">Professional</option>
</select>

<button id="clearBtn" class="w-full bg-red-600 text-white py-2 rounded mb-4">Clear All</button>

<input id="inputName" class="w-full border p-2 mb-2" placeholder="Name">
<input id="inputTitle" class="w-full border p-2 mb-2" placeholder="Title">
<input id="inputEmail" class="w-full border p-2 mb-2" placeholder="Email">
<input id="inputPhone" class="w-full border p-2 mb-2" placeholder="Phone">
<input id="inputLocation" class="w-full border p-2 mb-2" placeholder="Location">
<input id="inputWebsite" class="w-full border p-2 mb-2" placeholder="Website">

<textarea id="inputSummary" rows="4" class="w-full border p-2 mb-3" placeholder="Summary"></textarea>

<h3 class="font-semibold mt-4">Work Experience</h3>
<button id="addJobBtn" class="text-sm bg-blue-600 text-white px-2 py-1 rounded mb-2">+ Add Job</button>
<div id="workContainer"></div>

<h3 class="font-semibold mt-4">Skills</h3>
<div class="flex gap-2">
<input id="skillInput" class="flex-1 border p-1" placeholder="Skill">
<button id="addSkillBtn" class="bg-green-600 text-white px-3 rounded">Add</button>
</div>
<div id="skillList" class="flex flex-wrap gap-2 mt-2"></div>

<button id="downloadBtn" class="w-full bg-purple-700 text-white py-2 rounded mt-6">
Download PDF
</button>
</aside>

<!-- PREVIEW -->
<section class="md:col-span-2">
<div id="resumePreview" class="shadow rounded"></div>
<p class="text-xs text-center text-gray-500 mt-2">Made on curtisvenn.com</p>
</section>

</div>
</main>

<footer class="text-center text-xs text-gray-500 py-4">
© 2025 curtisvenn.com
</footer>

<script>
const $ = s => document.querySelector(s);
const esc = s => (s||'').replace(/[&<>]/g,m=>({ '&':'&amp;','<':'&lt;','>':'&gt;' }[m]));

let jobs=[], skills=[];

function loadSampleData(){
$('#inputName').value='Curtis Venn';
$('#inputTitle').value='Creator | Consultant | Fintech';
$('#inputEmail').value='curtis.hi95@gmail.com';
$('#inputPhone').value='801-815-7592';
$('#inputLocation').value='Bountiful, UT';
$('#inputWebsite').value='curtisvenn.com';
$('#inputSummary').value='Collaborative leader focused on building tools that simplify work.';

jobs=[{
job:'Operations Fraud & Claims Specialist',
company:'LendingClub',
years:'2025 - Present',
details:['Fraud investigations','Account risk review']
}];

skills=['HTML','JavaScript','Consulting','Photography'];
}

function renderForm(){
$('#workContainer').innerHTML=jobs.map((j,i)=>`
<div class="border p-2 mb-2">
<input value="${esc(j.job)}" oninput="jobs[${i}].job=this.value;renderPreview()" class="w-full border p-1 mb-1">
<input value="${esc(j.company)}" oninput="jobs[${i}].company=this.value;renderPreview()" class="w-full border p-1 mb-1">
<input value="${esc(j.years)}" oninput="jobs[${i}].years=this.value;renderPreview()" class="w-full border p-1 mb-1">
</div>`).join('');

$('#skillList').innerHTML=skills.map((s,i)=>`
<span class="pill bg-gray-200">${esc(s)}
<button onclick="skills.splice(${i},1);renderForm();renderPreview()">✕</button>
</span>`).join('');
}

function renderPreview(){
$('#resumePreview').innerHTML=`
<div class="p-6">
<h1 class="text-3xl font-bold">${esc($('#inputName').value)}</h1>
<div class="small-muted">${esc($('#inputTitle').value)}</div>
<p class="mt-4">${esc($('#inputSummary').value)}</p>

<h3 class="mt-4 font-semibold">Work</h3>
${jobs.map(j=>`
<div class="mt-2">
<strong>${esc(j.job)}</strong> — ${esc(j.company)}
<div class="small-muted">${esc(j.years)}</div>
</div>`).join('')}

<h3 class="mt-4 font-semibold">Skills</h3>
<p class="small-muted">${skills.join(', ')}</p>
</div>`;
}

function downloadPDF(){
const el=document.getElementById('resumePreview');
const clone=el.cloneNode(true);
clone.style.width='210mm';

const watermark=document.createElement('div');
watermark.innerText='Generated via curtisvenn.com';
watermark.style.position='absolute';
watermark.style.bottom='5mm';
watermark.style.right='5mm';
watermark.style.fontSize='8pt';
watermark.style.opacity='.3';
clone.appendChild(watermark);

html2pdf().set({
filename:'resume.pdf',
html2canvas:{ scale:3, scrollY: -window.scrollY },
jsPDF:{ unit:'mm', format:'a4', orientation:'portrait' }
}).from(clone).save();
}

$('#addJobBtn').onclick=()=>{ jobs.push({job:'New Job',company:'Company',years:'Year',details:[]}); renderForm(); renderPreview(); }
$('#addSkillBtn').onclick=()=>{ if(skillInput.value){skills.push(skillInput.value);skillInput.value='';renderForm();renderPreview();}}
$('#clearBtn').onclick=()=>{ jobs=[]; skills=[]; document.querySelectorAll('input,textarea').forEach(i=>i.value=''); renderForm(); renderPreview(); }
$('#downloadBtn').onclick=downloadPDF;
document.querySelectorAll('input,textarea,select').forEach(i=>i.oninput=renderPreview);

loadSampleData();
renderForm();
renderPreview();
</script>

</body>
</html>
